{% extends "base.html" %}

{% block content %}
<div class="row">
    <div class="col s12 m6">

        
        {% if source_url %}

            {% if "profile" in source_url %}

            <a href="{{url_for('profile', username=photo.created_by)}}"><i class="fas fa-long-arrow-alt-left"></i>Back to {{username|capitalize}}'s Profile</a>
            
            {% elif "compete" in source_url %}

            <a href="{{url_for('compete', username=photo.created_by)}}"><i class="fas fa-long-arrow-alt-left"></i>Back to the competition!</a>
            
            {% elif "recent_winners" in source_url %}

            <h2>Recent winners link to go here</h2>

            {% elif "browse" in source_url %}

            <h2>Browse all images link to go here</h2>

            {% endif %}
        
        {% else %}
            <h2>Edit photo</h2>
        {% endif %}
        <h1>{{ photo.photo_title }}</h1>
        <h3>by {{ username }}</h3>
        <p>{{ photo.photo_story }}</p>
        <img class="get-photo-img" src="{{ url_for('file', filename=photo.filename) }}">
        <h5>Camera: {{ photo.camera }}</h5>
        <h5>Lens: {{ photo.lens }}</h5>
        <h5>Aperture: {{photo.aperture }}</h5>
        <h5>Shutter Speed: {{ photo.shutter }}</h5>
        <h5>ISO: {{ photo.iso }}</h5>

    </div>
</div>

    <!-- These buttons should only be visible if the session["user"] is the same as the photo creator. -->
    {% if username == session.user %}
        <!-- The Edit button needs to link to an edit photo page - where all the inputs draw from the photo details. deleted user=user from editphoto url-->
        <a href="{{ url_for('edit_photo', photo=photo, filename=photo.filename) }}" class="waves-effect waves-light btn-large">Edit Photo Details</a> 
        <a href="{{ url_for('delete_photo', filename=photo.filename) }}"class="waves-effect waves-light btn-large">Delete Photograph</a>
    {% endif %}

{% endblock %}